<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <title>AI Credit Risk Intelligence Platform</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>

    <nav class="navbar fintech-navbar">
        <div class="container">
            <span class="navbar-brand">‚ö° AI Credit Risk Intelligence Platform</span>
        </div>
    </nav>

    <div class="container mt-5">
        <div class="card fintech-card p-4">

            <h4 class="text-center text-white mb-2">Applicant Credit Evaluation</h4>
            <p class="text-center text-white mb-4">
                Enter values carefully. The AI system evaluates credit risk in real time.
            </p>
            <div class="d-flex gap-2 mb-4">
                <button type="button" class="btn btn-success w-50" onclick="fillApprovedDemo()">
                    ‚úÖ Demo: Loan Approval
                </button>

                <button type="button" class="btn btn-danger w-50" onclick="fillRejectedDemo()">
                    ‚ùå Demo: Loan Rejection
                </button>
            </div>

            <form method="POST" action="/predict">
                <div class="row g-3">

                    <!-- Gender -->
                    <div class="col-md-6">
                        <label class="form-label">Gender</label>
                        <select class="form-select" name="Gender" required>
                            <option value="1">Male</option>
                            <option value="0">Female</option>
                        </select>
                    </div>

                    <!-- Marital Status -->
                    <div class="col-md-6">
                        <label class="form-label">Marital Status</label>
                        <select class="form-select" name="Married" required>
                            <option value="1">Married</option>
                            <option value="0">Single</option>
                        </select>
                    </div>

                    <!-- Dependents -->
                    <div class="col-md-4">
                        <label class="form-label">Dependents</label>
                        <input type="number" class="form-control" name="Dependents" value="0" min="0" required>
                    </div>

                    <!-- Education -->
                    <div class="col-md-4">
                        <label class="form-label">Education</label>
                        <select class="form-select" name="Education" required>
                            <option value="1">Graduate</option>
                            <option value="0">Not Graduate</option>
                        </select>
                    </div>

                    <!-- Self Employed -->
                    <div class="col-md-4">
                        <label class="form-label">Self Employed</label>
                        <select class="form-select" name="Self_Employed" required>
                            <option value="0">No</option>
                            <option value="1">Yes</option>
                        </select>
                    </div>

                    <!-- Applicant Income -->
                    <div class="col-md-6">
                        <label class="form-label">Applicant Income (‚Çπ)</label>
                        <input type="number" class="form-control" name="ApplicantIncome" min="0" required>
                    </div>

                    <!-- Co-Applicant Income -->
                    <div class="col-md-6">
                        <label class="form-label">Co-Applicant Income (‚Çπ)</label>
                        <input type="number" class="form-control" name="CoapplicantIncome" value="0" min="0" required>
                    </div>

                    <!-- Loan Amount -->
                    <div class="col-md-4">
                        <label class="form-label">Loan Amount (‚Çπ)</label>
                        <input type="number" class="form-control" name="LoanAmount" min="0" required>
                    </div>

                    <!-- Loan Term -->
                    <div class="col-md-4">
                        <label class="form-label">Loan Term (Months)</label>
                        <input type="number" class="form-control" name="Loan_Amount_Term" value="360" min="12" required>
                    </div>

                    <!-- Credit History -->
                    <div class="col-md-4">
                        <label class="form-label">Credit History</label>
                        <select class="form-select" name="Credit_History" required>
                            <option value="1">Good</option>
                            <option value="0">Bad</option>
                        </select>
                    </div>

                    <!-- Property Area -->
                    <div class="col-md-12">
                        <label class="form-label">Property Area</label>
                        <select class="form-select" name="Property_Area" required>
                            <option value="2">Urban</option>
                            <option value="1">Semi-Urban</option>
                            <option value="0">Rural</option>
                        </select>
                    </div>

                </div>

                <button type="submit" class="btn fintech-btn w-100 mt-4">
                    Run AI Credit Assessment
                </button>
            </form>
            <!-- Prediction Output -->
            {% if prediction_text %}
            <div class="alert alert-info mt-4 text-center">
                <strong>{{ prediction_text }}</strong><br>
                {{ probability_text }}<br>
                Risk Level: {{ risk_text }}
            </div>
            {% endif %}

            <!-- ‚úÖ AI Decision Insights -->
            {% if reasons %}
            <div class="alert alert-warning mt-3">
                <strong>AI Risk Flags (Informational):</strong>
                <ul class="mt-2 mb-0">
                    {% for r in reasons %}
                    <li>{{ r }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            <!-- ‚úÖ PDF Download Button -->
            {% if pdf_available %}
            <div class="text-center mt-3">
                <a href="{{ url_for('static', filename='Loan_Assessment_Report.pdf') }}" class="btn btn-success"
                    download>
                    üìÑ Download Loan Assessment Report
                </a>
            </div>
            {% endif %}

        </div>
    </div>

    <footer class="fintech-footer text-center mt-4">
        ¬© 2026 AI Credit Risk Intelligence ‚Ä¢ FinTech ML Project
    </footer>
    <script>
        function fillApprovedDemo() {
            document.querySelector('[name="Gender"]').value = 1;
            document.querySelector('[name="Married"]').value = 1;
            document.querySelector('[name="Dependents"]').value = 0;
            document.querySelector('[name="Education"]').value = 1;
            document.querySelector('[name="Self_Employed"]').value = 0;
            document.querySelector('[name="ApplicantIncome"]').value = 8000;
            document.querySelector('[name="CoapplicantIncome"]').value = 2000;
            document.querySelector('[name="LoanAmount"]').value = 150;
            document.querySelector('[name="Loan_Amount_Term"]').value = 360;
            document.querySelector('[name="Credit_History"]').value = 1;
            document.querySelector('[name="Property_Area"]').value = 2;
        }

        function fillRejectedDemo() {
            document.querySelector('[name="Gender"]').value = 0;
            document.querySelector('[name="Married"]').value = 0;
            document.querySelector('[name="Dependents"]').value = 3;
            document.querySelector('[name="Education"]').value = 0;
            document.querySelector('[name="Self_Employed"]').value = 1;
            document.querySelector('[name="ApplicantIncome"]').value = 2000;
            document.querySelector('[name="CoapplicantIncome"]').value = 0;
            document.querySelector('[name="LoanAmount"]').value = 300;
            document.querySelector('[name="Loan_Amount_Term"]').value = 360;
            document.querySelector('[name="Credit_History"]').value = 0;
            document.querySelector('[name="Property_Area"]').value = 0;
        }
    </script>


</body>

</html>